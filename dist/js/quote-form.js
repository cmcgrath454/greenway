const prevBtn=document.querySelector(".btn-prev"),nextBtn=document.querySelector(".btn-next"),submitBtn=document.querySelector(".btn-submit"),formPages=document.querySelectorAll(".quote-form>fieldset");let i=0;document.getElementById("quote-form").addEventListener("keypress",e=>{"Enter"==e.key&&i<formPages.length-1&&(e.preventDefault(),nextBtn.click())}),nextBtn.addEventListener("click",()=>{var e=formPages[i],t=e.nextElementSibling;validatePage(i)?(i++,e.classList.remove("active"),document.activeElement.blur(),1==i&&prevBtn.toggleAttribute("hide"),i>=formPages.length-1&&(nextBtn.toggleAttribute("hide"),submitBtn.toggleAttribute("hide")),t.classList.add("active")):alert("Please fill in the missing field(s) highlighted in red.")}),prevBtn.addEventListener("click",()=>{var e=formPages[i--],t=e.previousElementSibling;e.classList.remove("active"),0==i&&prevBtn.toggleAttribute("hide"),i==formPages.length-2&&(submitBtn.toggleAttribute("hide"),nextBtn.toggleAttribute("hide")),t.classList.add("active")});const newHomeRadios=document.querySelectorAll("input[name='is_new']");function validatePage(e){switch(valid=!0,e){case 0:var t=document.getElementById("name"),t=(t.value.length<1&&(showError(t),valid=!1),document.getElementById("email")),t=(t.value.includes("@")&&t.value.includes(".")||(showError(t),valid=!1),document.getElementById("phone"));t.value.length<7&&(showError(t),valid=!1);break;case 1:(addressTextLines=[document.getElementById("address"),document.getElementById("city"),document.getElementById("state")]).forEach(e=>{e.value.length<1&&(showError(e),valid=!1)});t=document.getElementById("zip"),t=(t.value.length<5&&(showError(t),valid=!1),document.getElementsByName("is_new"));t[0].checked||t[1].checked||(showError(t[0]),valid=!1);break;case 2:t=document.getElementById("description");t.value.length<1&&(showError(t),valid=!1);break;case 3:t=document.getElementById("budget"),t=(0==t.selectedIndex&&(showError(t),valid=!1),document.getElementById("date"));t.value.length<1&&(showError(t),valid=!1);break;default:throw"contact form page number out of bounds"}return valid}function showError(e){e.classList.add("form-error"),document.querySelector(`label[for="${e.name}"].form-error`).removeAttribute("hidden","")}function validateTextChange(e){var t=e.nextElementSibling;e.value.length<1?(e.classList.add("form-error"),t.removeAttribute("hidden")):(e.classList.remove("form-error"),t.setAttribute("hidden",""))}function validateOptionChange(e){var t=document.querySelector(`label[for="${e.name}"].form-error`);e.classList.remove("form-error"),t.setAttribute("hidden","")}function submitForm(e){if(e.disabled=!0,prevBtn.disable=!0,!validatePage(3))return prevBtn.disabled=!1,e.disabled=!1;prevBtn.classList.add("hide-btn-on-submit"),prevBtn.innerText="",e.innerText="Sending...",grecaptcha.ready(function(){grecaptcha.execute("6LdWE9UkAAAAAKcp25hq1COnrdbw_Nl3Fs5Ho5jq").then(function(e){document.getElementById("token-response").value=e,document.getElementById("quote-form").submit()})})}newHomeRadios.forEach(e=>{e.addEventListener("click",()=>{var e=document.querySelectorAll(".builder-name");const t=document.querySelector("#newhome-true");e.forEach(e=>{t.checked?e.removeAttribute("hide"):e.setAttribute("hide",null)})})});